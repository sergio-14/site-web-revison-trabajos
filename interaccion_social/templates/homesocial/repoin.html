<!doctype html>
{% load static %}
<html lang="en">
<head>
    <title>üë®‚Äçüéìüë©‚Äçüéì Trabajos del Instituto IIISP</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
            type="text/css"
            href="{% static 'css/repoin.css' %}"
            rel="stylesheet"
    />

    <!-- Bootstrap CSS v5.2.1 -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
    />
    <link type="text/css" href="{% static 'css/repoin.css' %}" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    
</head>

<body class="conbody px-lg-5 px-1"><br>

<div class="row stilo g-0 text-center px-lg-0 px-3 justify-content-center align-items-center">
    <h2 class="title text-center pt-4">PROYECTOS DE INVESTIGACI√ìN, EXTENSI√ìN E INTERRACI√ìN SOCIAL</h2>
    <form method="GET" action="" id="filterForm">
        <div class="row ps-lg-5 px-2 align-items-center">
            <!-- Primer elemento: Bot√≥n -->
            <div class="col-auto d-flex justify-content-center align-items-center">
                <a href="{% url 'home' %}" class="p-2 textdate stilo rounded-circle">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-house-check-fill" viewBox="0 0 16 16">
                        <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"/>
                        <path d="m8 3.293 4.712 4.712A4.5 4.5 0 0 0 8.758 15H3.5A1.5 1.5 0 0 1 2 13.5V9.293z"/>
                        <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.707l.547.547 1.17-1.951a.5.5 0 1 1 .858.514"/>
                    </svg>
                </a>
            </div>
           
            <div class="col-auto p-2 m-2">
                <div class="row no-gutte p-2 align-items-center">
                    <div class="col-auto">
                        <h2 class="card-text textto d-flex align-items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-intersect" viewBox="0 0 16 16">
                                <path d="M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2zm5 10v2a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2v5a2 2 0 0 1-2 2zm6-8V2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2V6a2 2 0 0 1 2-2z"/>
                            </svg> 
                            GESTION
                        </h2>
                    </div>
                    <div class="col-auto ">
                        <select name="T_Gestion" id="t_gestion" class=" texttol form-select" aria-label="Default select example" onchange="submitForm()">
                            {% for gestion in t_gestiones %}
                                <option value="{{ gestion.id }}" {% if gestion.id|stringformat:"s" == selected_t_gestion %}selected{% endif %}>{{ gestion }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-auto p-2 m-2">
                <div class="row no-gutte p-2 align-items-center">  
                    <div class="col-auto">
                        <h2 class="card-text d-flex align-items-center texto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-intersect me-2" viewBox="0 0 16 16">
                                <path d="M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2zm5 10v2a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2v5a2 2 0 0 1-2 2zm6-8V2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2V6a2 2 0 0 1 2-2z"/>
                            </svg> 
                            SEMESTRE
                        </h2>
                    </div>
                    <div class="col-auto">
                        <select name="Semestre" id="semestre" class="form-select" onchange="submitForm()">
                            {% for semestre in t_semestres %}
                                <option value="{{ semestre.id }}" {% if semestre.id|stringformat:"s" == selected_t_semestre %}selected{% endif %}>
                                    {{ semestre.S_Semestre }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </form>

    {% if listaproyectos %}
    {% for proyecto in listaproyectos %}
        <div class=" px-lg-5 p-1 py-lg-3">
            <div class="row no-gutte">
                <!-- Primera Columna -->
                <div class="col-md-6">
                    <!-- Primera Fila de la Primera Columna -->
                    <div class="row pt-4 px-lg-4 px-0">
                        <div class="col-12 parrafos justify-content-center align-items-center">
                            <h3 class="text-dark">{{ proyecto.S_Titulo }}</h3>
                            <div class="row mb-3 justify-content-center align-items-center">
                                <div class="col text-center">
                                    <p class="card-text text-end">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-back" viewBox="0 0 16 16">
                                            <path d="M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>
                                        </svg> 
                                        Docente: {{ proyecto.S_persona.docente.titulo }} {{ proyecto.S_persona.nombre }} {{ proyecto.S_persona.apellido }} {{ proyecto.S_persona.apellidoM }}
                                    </p>
                                </div>
                                <div class="col-auto">
                                    {% if proyecto.S_persona.imagen %}
                                    <img src="{{ proyecto.S_persona.imagen.url }}" class="img-fluid" id="imgdocente" alt="Imagen de ejemplo">
                                    {% else %}
                                    <img src="{% static 'img/SINFOTO.webp' %}" class="rounded-img" alt="Sin foto">
                                    {% endif %}
                                </div>
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col textdate">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="currentColor" class="bi bi-calendar3" viewBox="0 0 16 16">
                                        <path d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2M1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857z"/>
                                        <path d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/>
                                      </svg> En : {{ proyecto.Fecha_Inicio|date:"d/m/Y" }}
                                </div>
                                <div class="col textdate">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="currentColor" class="bi bi-calendar3" viewBox="0 0 16 16">
                                        <path d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2M1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857z"/>
                                        <path d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/>
                                      </svg> a : {{ proyecto.Fecha_Finalizacion|date:"d/m/Y " }}
                                </div>
                            </div>
                            <p class="card-text "> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-back" viewBox="0 0 16 16">
                                <path d="M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>
                              </svg> CATEGOR√çA: {{ proyecto.T_Tipo_Proyecto }}
                            </p>
                            <div class="col-12 parrafos mb-3">
                                <p class="textto">DESCRIPCI√ìN:<br>{{ proyecto.S_Descripcion }}</p>
                            </div>
                            {% if proyecto.S_Documentacion %}
                            <div class="d-flex align-items-center no-gutte px-0 mx-2 mx-lg-5 py-0 py-lg-2  mb-4 px-lg-5">
                                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="ms-lg-0 ms-2 bi bi-file-earmark-richtext-fill" viewBox="0 0 16 16">
                                  <path d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0M9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1M7 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m-.861 1.542 1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047l1.888.974V9.5a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V9s1.54-1.274 1.639-1.208M5 11h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1m0 2h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1"/>
                                </svg>
                                <a
                                  href="{{ proyecto.S_Documentacion.url }}"
                                  class="list-group-item list-group-item-action"
                                  > Documento Completo del Trabajo Realizado
                                </a>
                            </div>
                            {% else %}
                                No disponible
                            {% endif %}
                            
                        </div>
                    </div>
                </div>
                <!-- Segunda Columna -->
                <div class="col-md-6 p-lg-4 p-2">
                    <h3 class="card-text">ASIGNATURA: {{ proyecto.T_Materia }}</h3>
                    <div class="stilo contimgp ">
                        {% if proyecto.S_Imagen %}
                            <img src="{{ proyecto.S_Imagen.url }}" class="img-fluid p-lg-3 p-2" id="imgsocial" alt="Imagen de ejemplo">
                        {% else %}
                            No disponible
                        {% endif %}
                    </div>
                </div>
            </div><br>
        </div>
    {% endfor %}
    <br><br><br><br>
{% else %}
    <p class="textdate text-center py-4">Debe Elegir un Filtro Seleccionando las Opciones .</p>
{% endif %}
</div><br>
</div>

<script
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"
></script>

<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"
></script>

<script>
    function submitForm() {
        document.getElementById("filterForm").submit();
    }
    
</script>
</body>
</html>
